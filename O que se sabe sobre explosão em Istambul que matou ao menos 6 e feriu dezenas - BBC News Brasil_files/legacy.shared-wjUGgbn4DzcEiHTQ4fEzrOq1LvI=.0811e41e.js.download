(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3253],{20212:function(t,e,n){"use strict";n.d(e,{Z:function(){return Dt}});n(26699),n(92222);var r=n(67294),o=n(90304),i=n(63548),a=n(87487),u=n(88098),s=n(15861),l=n(29439),m=n(64687),c=n.n(m),p=(n(41539),n(88674),n(39714),n(21249),n(94301),n(1466)),d=n.n(p),f=n(40227),g=n(37108),h=n(81376),v=n(87462),y=n(74316),C=n(45697),w=n(60767),b=n(76198),Z=n(224),O=n(55728),R=n(5820),x=n(41664),A=n(65334),I=n(85121),j=function(t){return{enableGelGutters:!0,enableGelMargins:!0,columns:{group0:6,group1:6,group2:6,group3:{oneColumn:1,twoColumn:6,multiColumn:6}[t],group4:{oneColumn:1,twoColumn:8,multiColumn:8}[t],group5:{oneColumn:1,twoColumn:8,multiColumn:20}[t]}}},T=n(70917);var z=function(t){return"oneColumn"!==t?j(t).columns:null},L=(0,y.Z)("a",{target:"e1qh809m4"})((function(t){var e=t.script;return e&&(0,w.AW)(e)})," ",(function(t){var e=t.service;return(0,O.R$)(e)})," position:static;color:",b.UV,";text-decoration:none;margin-bottom:",R.xd,";&:hover,&:focus{text-decoration:underline;}&:before{bottom:0;content:'';left:0;overflow:hidden;position:absolute;right:0;top:0;white-space:nowrap;z-index:1;}",(function(t){var e=t.script,n=t.size;return e&&"small"!==n&&"@media (min-width: ".concat(x.k3,") {\n      ").concat((0,w.To)(e),"\n    }")}),";"),k=function(t){return"small"===t?R.xd:R.Ru},D=(0,y.Z)("div",{target:"e1qh809m3"})("padding-top:",(function(t){return function(t){return"small"===t?"0.2rem":"0.375rem"}(t.size)}),";",(function(t){var e=t.dir,n=t.size;return"ltr"===e?"padding-left: ".concat(k(n),";"):"padding-right: ".concat(k(n),";")})," ",(function(t){return"ltr"===t.dir?"padding-right: ".concat(R.Ru,";"):"padding-left: ".concat(R.Ru,";")}),"@supports (",Z.e,"){",(function(t){return"ltr"===t.dir?"padding-right: 0;":"padding-left: 0;"}),";}"),H=(0,y.Z)("div",{target:"e1qh809m2"})("padding-top:",R.xd,";"),W=function(t){var e=t.dir,n=t.service,r=t.script,o=t.title,i=t.href,a=t.children,u=t.size,s=t.eventTrackingData,l=(0,I.Z)(s);return(0,T.tZ)(D,{dir:e,size:u},(0,T.tZ)(L,{href:i,script:r,service:n,size:u,onClick:l,className:"focusIndicatorDisplayTableCell"},o),a&&(0,T.tZ)(H,null,a))};W.defaultProps={dir:"ltr",children:null,size:"default",eventTrackingData:null};var E=(0,y.Z)("div",{target:"e1qh809m1"})({name:"1k5dca0",styles:"display:flex;flex-direction:row;margin:0;padding:0"}),_=(0,y.Z)(A.Z,{target:"e1qh809m0"})("position:relative;padding-bottom:",R.RH,";");_.defaultProps={role:"listitem"};var F=r.forwardRef((function(t,e){var n=t.dir,r=t.children,o=t.columnLayout;return(0,T.tZ)(_,(0,v.Z)({},function(t){return{item:!0,columns:{group0:6,group1:6,group2:6,group3:{oneColumn:1,twoColumn:3,multiColumn:3}[t],group4:{oneColumn:1,twoColumn:4,multiColumn:4}[t],group5:{oneColumn:1,twoColumn:4,multiColumn:4}[t]}}}(o),{parentColumns:z(o),dir:n,as:"li",ref:e}),(0,T.tZ)(E,null,r))}));F.propTypes={children:C.node.isRequired,dir:(0,C.oneOf)(["rtl","ltr"]),columnLayout:(0,C.oneOf)(["oneColumn","twoColumn","multiColumn"])},F.defaultProps={dir:"ltr",columnLayout:"multiColumn"};var S=(0,y.Z)(A.Z,{target:"eacxnyi2"})("list-style-type:none;margin:0;padding:0;grid-auto-flow:column;grid-template-rows:repeat(",(function(t){return t.numberOfItems}),", auto);");S.defaultProps={role:"list"};var q=(0,y.Z)(S,{target:"eacxnyi1"})("@media (min-width: ",x.lX,"){grid-template-rows:repeat(\n      ",(function(t){return Math.ceil(t.numberOfItems/2)}),",\n      auto\n    );}"),M=(0,y.Z)(q,{target:"eacxnyi0"})("@media (min-width: ",x.cO,"){grid-auto-flow:row;}"),P=function(t){var e=t.numberOfItems,n=t.dir,r=t.columnLayout,o=t.children,i=function(t){return{oneColumn:S,twoColumn:q,multiColumn:M}[t]}(r);return(0,T.tZ)(i,(0,v.Z)({},j(r),{dir:n,numberOfItems:e,as:"ol"}),o)};P.defaultProps={dir:"ltr",columnLayout:"multiColumn"};var N=P,U=(n(32023),n(37268),n(37289)),B=["arabic","bengali","tamil","telegu","urdu"],X=["persian","pashto"],Y=function(t){return{group0:{default:R.RH,small:R.Ru}[t],group1:{default:R.RH,small:R.Ru}[t],group2:{default:R.RH,small:R.Ru}[t],group3:{default:R.my,small:R.Ru}[t],group5:R.my}},G=function(t){return{group3:R.my,group5:R.my,group0WithOneColumn:{default:R.oq,small:"1.75rem"}[t],group1WithOneColumn:{default:R.oq,small:"1.75rem"}[t],group2WithOneColumn:{default:R.Fj,small:R.my}[t],group3WithOneColumn:{default:"4rem",small:R.oq}[t],group3WithTwoColumns:"4rem",group5WithFiveColumns:"4rem"}},K={group0:R.Ru,group1:R.Ru,group2:R.Ru,group3:R.RH,group5:R.RH},Q=function(t){return{group3:R.RH,group5:R.RH,group0WithOneColumn:{default:R.my,small:R.RH}[t],group1WithOneColumn:{default:R.my,small:R.RH}[t],group2WithOneColumn:{default:R.my,small:R.RH}[t],group3WithOneColumn:{default:R.Fj,small:R.my}[t],group3WithTwoColumns:R.Fj,group5WithFiveColumns:R.Fj}},V={group0:R.Ru,group1:R.Ru,group2:R.Ru,group3:R.RH,group5:R.RH},$={group3:R.RH,group5:R.RH,group0WithOneColumn:R.Ru,group1WithOneColumn:R.RH,group2WithOneColumn:R.RH,group3WithOneColumn:R.my,group3WithTwoColumns:R.my,group5WithFiveColumns:R.my},J=function(t){return t>9},tt=function(t,e){return function(t,e){var n=t.listIndex,r=t.numberOfItems;return e?n>Math.ceil(r/2):n%2==0}(t,e)&&J(t.numberOfItems)},et=function(t){var e=t.service,n=t.numberOfItems,r=t.size,o={default:Y(r),medium:K,small:V},i={default:G(r),medium:Q(r),small:$},a=J(n)?i:o;return B.includes(e)?a.medium:X.includes(e)?a.small:a.default},nt=(0,y.Z)("div",{target:"ek0i6cb3"})("@media (max-width: ",x.WF,"){min-width:",(function(t){return J(t.numberOfItems)?et(t).group0WithOneColumn:et(t).group0}),";}@media (min-width: ",x.M3,") and (max-width: ",x.dR,"){min-width:",(function(t){return J(t.numberOfItems)?et(t).group1WithOneColumn:et(t).group1}),";}@media (min-width: ",x.k3,") and (max-width: ",x._V,"){min-width:",(function(t){return J(t.numberOfItems)?et(t).group2WithOneColumn:et(t).group2}),";}@media (min-width: ",x.lX,"){min-width:",(function(t){return J(t.numberOfItems)?et(t).group3WithOneColumn:et(t).group3}),";}"),rt=(0,y.Z)(nt,{target:"ek0i6cb2"})("@media (min-width: ",x.lX,"){min-width:",(function(t){return tt(t,!1)?et(t).group3WithTwoColumns:et(t).group3}),";}@supports (",Z.e,"){@media (min-width: ",x.lX,"){min-width:",(function(t){return tt(t,!0)?et(t).group3WithTwoColumns:et(t).group3}),";}}"),ot=(0,y.Z)(rt,{target:"ek0i6cb1"})("@media (min-width: ",x.cO,"){min-width:",(function(t){return J(t.numberOfItems)?(n=(e=t).listIndex,r=e.service,o=e.numberOfItems,5===n||10===n?et({service:r,numberOfItems:o}).group5WithFiveColumns:et({service:r,numberOfItems:o}).group5):et(t).group5;var e,n,r,o}),";}"),it=(0,y.Z)("span",{target:"ek0i6cb0"})((function(t){var e=t.service;return(0,O.qy)(e)})," ",(function(t){var e=t.script,n=t.size;return e&&"small"===n?(0,w.AG)(e):(0,w.QR)(e)})," position:relative;color:",b.k_,";margin:0;padding:0;",(function(t){return"japanese"===t.service&&"letter-spacing: -".concat(R.E8)}),";"),at=function(t){var e={bengali:U.Bengali,burmese:U.Burmese,nepali:U.Nepali,pashto:U.EasternArabic,persian:U.EasternArabic};return e[t]?e[t]:U.WesternArabic},ut=function(t){var e=t.service,n=t.script,r=t.listIndex,o=t.numberOfItems,i=t.dir,a=t.columnLayout,u=t.size,s=t.isAmp,l=at(e),m=s?r:l[r],c={oneColumn:nt,twoColumn:rt,multiColumn:ot}[a];return(0,T.tZ)(c,{listIndex:r,service:e,numberOfItems:o,dir:i,size:u},(0,T.tZ)(it,{service:e,script:n,size:u},m))};ut.defaultProps={dir:"ltr",columnLayout:"multiColumn",size:"default",isAmp:!1};var st=ut,lt=n(65228),mt=function(t){var e=t.locale,n=t.prefix,r=t.script,o=t.service,i=t.timestamp,a=t.timezone;return(0,T.tZ)(lt.Z,{timestamp:i,dateTimeFormat:"YYYY-MM-DD",prefix:n,format:"LL",script:r,service:o,locale:e,timezone:a,padding:!1})},ct=(n(47042),n(68309),n(91038),n(78783),n(74916),n(82526),n(41817),n(32165),n(66992),n(33948),n(54782)),pt=n.n(ct),dt=n(70050);function ft(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return gt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function gt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ht=d()("/index.js"),vt=function(t){var e=pt()(null,["promo","headlines","promoHeadline","blocks",0,"model","blocks",0,"model","text"],t),n=pt()(null,["promo","locators","canonicalUrl"],t),r=pt()(null,["promo","timestamp"],t);return{id:t.id,title:e,href:n,timestamp:r}},yt=function(t){var e=pt()(null,["promo","headlines","shortHeadline"],t),n=pt()(null,["promo","locators","assetUri"],t),r=pt()(null,["promo","timestamp"],t);return{id:t.id,title:e,href:n,timestamp:r}},Ct=function(t){var e=t.data,n=t.isAmp,r=t.numberOfItems,o=t.service;if(!e)return null;var i=(0,dt.Z)({data:e,isAmp:n,service:o,popularType:"mostRead"});if(!i)return null;var a,u=[],s=ft(pt()([],["records"],i));try{for(s.s();!(a=s.n()).done;){var l=a.value,m="optimo"===l.promo.type?vt(l):yt(l),c=m.href,p=m.title;if(c&&p?u.push(m):ht.warn(g.MOST_READ_DATA_INCOMPLETE,{service:o,title:p,url:c}),u.length===r)break}}catch(t){s.e(t)}finally{s.f()}return u},wt=d()("/index.js"),bt=function(t){var e=t.endpoint,n=t.columnLayout,i=t.size,a=t.initialData,m=t.wrapper,p=t.eventTrackingData,d=(0,r.useContext)(o.f).isAmp,v=(0,r.useContext)(u.o),y=v.service,C=v.script,w=v.dir,b=v.datetimeLocale,Z=v.serviceDatetimeLocale,O=v.timezone,R=v.mostRead,x=R.lastUpdated,A=R.numberOfItems,I=(0,h.Z)(p),j=Ct({data:a,isAmp:d,numberOfItems:A,service:y}),z=(0,r.useState)(j),L=(0,l.Z)(z,2),k=L[0],D=L[1];if((0,r.useEffect)((function(){if(!k){t=e,wt.info(g.MOST_READ_CLIENT_REQUEST,{url:e}),fetch(t).then((n=t,function(){var t=(0,s.Z)(c().mark((function t(e){var r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.ok){t.next=2;break}throw Error("Unexpected response (HTTP status code ".concat(e.status,") when requesting ").concat(n));case 2:return t.next=4,e.json();case 4:r=t.sent,D(Ct({data:r,isAmp:d,numberOfItems:A,service:y}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).catch((function(e){wt.error(g.MOST_READ_FETCH_ERROR,{url:t,error:e.toString()})}))}var t,n}),[e,A,b,x,C,y,O,k,d]),!k||0===k.length)return null;var H=Z||b;return(0,T.tZ)(m,null,(0,T.tZ)(N,{numberOfItems:k.length,dir:w,columnLayout:n},k.map((function(t,e){return(0,T.tZ)(F,{dir:w,key:t.id,columnLayout:n,ref:I},(0,T.tZ)(st,{service:y,script:C,listIndex:e+1,numberOfItems:k.length,dir:w,columnLayout:n,size:i}),(0,T.tZ)(W,{dir:w,service:y,script:C,title:t.title,href:t.href,size:i,eventTrackingData:p},(0,f.O)(t.timestamp)&&(0,T.tZ)(mt,{prefix:x,script:C,service:y,timestamp:t.timestamp,locale:H,timezone:O})))}))))};bt.defaultProps={columnLayout:"multiColumn",size:"default",initialData:null,wrapper:r.Fragment,eventTrackingData:null};var Zt=bt,Ot=n(64593),Rt=n(36937),xt=(n(15306),n(48321)),At=n.n(xt),It=function(t,e,n,r){try{var o=At().createHash(e).update(t,n);return"".concat(e,"-").concat(o.digest(r).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}catch(t){return console.warn("Failed to create hash with params ".concat(r)),null}},jt=function(t){var e=t.endpoint,n=t.size,o=t.wrapper,i=(0,r.useContext)(u.o),a=i.service,s=i.script,l=i.dir,m=i.mostRead.numberOfItems,c=i.translations,p=function(t,e){var n=at(e);return"\n  const translations = ".concat(JSON.stringify(n),'\n  const getRemoteData = async () => {\n    try{\n      const response = await fetch("').concat(t,'");\n      const data = await response.json();\n\n      if(data.records.length === 0){\n        throw new Error("Empty records from mostread endpoint");\n      }\n\n      data.records.forEach((item, index) => {\n        item.rankTranslation = translations[index+1];\n\n        if (!item.promo.headlines.shortHeadline) {\n          item.promo.headlines.shortHeadline = item.promo.headlines.seoHeadline;\n        }\n      });\n\n      return data;\n    } catch(error){\n      console.warn(error);\n      return [];\n    }\n  }\n    exportFunction(\'getRemoteData\', getRemoteData);')}(e,a),d=(0,y.Z)("p",{target:"e1i7n20p0"})((function(){return(0,O.sA)(a)})," ",(function(){return(0,w.kl)(s)})," color:",b.XP,";margin:0;"),f=pt()("Content is not available",["socialEmbed","fallback","text"],c);return(0,T.tZ)("amp-script",{id:"dataFunctions",script:"local-script"},(0,T.tZ)(o,null,(0,T.tZ)(Ot.q,{script:[{id:"local-script",type:"text/plain",target:"amp-script",innerHTML:p}]}),(0,T.tZ)(Ot.q,null,Rt.o_,Rt.lw,Rt.x7,(0,T.tZ)("meta",{name:"amp-script-src",content:It(p,"sha384","utf8","base64")})),(0,T.tZ)("amp-list",{src:"amp-script:dataFunctions.getRemoteData",items:"records","max-items":m,layout:"responsive",width:"300",height:"50"},(0,T.tZ)(d,{fallback:"",service:a,script:s},f),(0,T.tZ)("template",{type:"amp-mustache"},(0,T.tZ)(F,{dir:l,columnLayout:"oneColumn"},(0,T.tZ)(st,{service:a,script:s,numberOfItems:m,listIndex:"{{rankTranslation}}",dir:l,columnLayout:"oneColumn",size:n,isAmp:!0}),(0,T.tZ)(W,{dir:l,service:a,script:s,title:"{{promo.headlines.shortHeadline}}",href:"{{promo.locators.assetUri}}",size:n}))))))};jt.defaultProps={endpoint:"",size:"default",wrapper:r.Fragment};var Tt=jt,zt={componentName:"most-read"},Lt=["STY","CSP","article"],kt=function(t){var e=t.mostReadEndpointOverride,n=t.initialData,s=t.columnLayout,l=t.size,m=t.wrapper,c=t.serverRenderOnAmp,p=(0,r.useContext)(o.f),d=p.variant,f=p.isAmp,g=p.pageType,h=(0,r.useContext)(u.o),v=h.service,y=h.mostRead.hasMostRead,C=(0,i.Z)("mostRead").enabled&&y,w=e||(0,a._)({service:v,variant:d});if(!C)return null;if(f&&!c&&Lt.includes(g)){var b="".concat("https://web-cdn.api.bbci.co.uk").concat(w);return(0,T.tZ)(Tt,{endpoint:b,size:l,wrapper:m})}return(0,T.tZ)(Zt,{initialData:n,endpoint:w,wrapper:m,columnLayout:s,size:l,eventTrackingData:zt})};kt.defaultProps={mostReadEndpointOverride:void 0,columnLayout:"multiColumn",size:"default",initialData:void 0,wrapper:void 0,serverRenderOnAmp:!1};var Dt=kt},36937:function(t,e,n){"use strict";n.d(e,{Ay:function(){return u},l9:function(){return o},lw:function(){return a},o_:function(){return i},x7:function(){return s}});n(67294);var r=n(70917),o=((0,r.tZ)("script",{async:!0,src:"https://cdn.ampproject.org/v0.js"}),(0,r.tZ)("script",{async:!0,"custom-element":"amp-access",src:"https://cdn.ampproject.org/v0/amp-access-0.1.js"})),i=((0,r.tZ)("script",{async:!0,"custom-element":"amp-analytics",src:"https://cdn.ampproject.org/v0/amp-analytics-0.1.js"}),(0,r.tZ)("script",{async:!0,"custom-element":"amp-bind",src:"https://cdn.ampproject.org/v0/amp-bind-0.1.js"}),(0,r.tZ)("script",{async:!0,"custom-element":"amp-consent",src:"https://cdn.ampproject.org/v0/amp-consent-0.1.js"}),(0,r.tZ)("script",{async:!0,"custom-element":"amp-geo",src:"https://cdn.ampproject.org/v0/amp-geo-0.1.js"}),(0,r.tZ)("script",{async:!0,"custom-element":"amp-list",src:"https://cdn.ampproject.org/v0/amp-list-0.1.js"})),a=(0,r.tZ)("script",{async:!0,"custom-template":"amp-mustache",src:"https://cdn.ampproject.org/v0/amp-mustache-0.2.js"}),u=(0,r.tZ)("script",{async:!0,"custom-element":"amp-ad",src:"https://cdn.ampproject.org/v0/amp-ad-0.1.js"}),s=((0,r.tZ)("script",{async:!0,"custom-element":"amp-ad",src:"https://cdn.ampproject.org/v0/amp-ad-0.1.js"}),(0,r.tZ)("script",{async:!0,"custom-element":"amp-script",src:"https://cdn.ampproject.org/v0/amp-script-0.1.js"}))},37289:function(t,e,n){"use strict";n.r(e),n.d(e,{Bengali:function(){return r},Burmese:function(){return o},EasternArabic:function(){return i},Nepali:function(){return a},WesternArabic:function(){return u},makeNumeralTranslator:function(){return l}});n(74916),n(15306);var r=["০","১","২","৩","৪","৫","৬","৭","৮","৯","১০"],o=["၀","၁","၂","၃","၄","၅","၆","၇","၈","၉","၁၀"],i=["۰","۱","۲","۳","۴","۵","۶","۷","۸","۹","۱۰"],a=["०","१","२","३","४","५","६","७","८","९","१०"],u=["0","1","2","3","4","5","6","7","8","9","10"],s=function(t){return t},l=function(t){return e=t,Array.isArray(e)&&e.length>=10?function(e){return e.replace(/\d/g,(function(e){return t[e]}))}:s;var e}},48321:function(){}}]);
//# sourceMappingURL=legacy.shared-wjUGgbn4DzcEiHTQ4fEzrOq1LvI=.0811e41e.js.map